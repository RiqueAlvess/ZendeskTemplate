<a class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-blue-600 text-white px-4 py-2 rounded z-50" tabindex="1" href="#main-content">{{t 'skip_navigation'}}</a>

<header class="bg-white border-b border-gray-200 sticky top-0 z-40">
  <div class="max-w-6xl mx-auto px-4">
    <div class="flex justify-between items-center h-16">
      
      <!-- Logo -->
      <div class="flex items-center">
        {{#link 'help_center' class="flex items-center space-x-3"}}
          <img src="{{settings.logo}}" alt="{{t 'home_page' name=help_center.name}}" class="h-8 w-auto" />
          {{#if settings.show_brand_name}}
            <span class="text-lg font-semibold text-gray-900 hidden sm:block">{{help_center.name}}</span>
          {{/if}}
        {{/link}}
      </div>

      <!-- Desktop Navigation -->
      <div class="hidden md:flex items-center space-x-6 nav-wrapper-desktop">
        <nav class="user-nav" id="user-nav" aria-label="{{t 'user_navigation'}}">
          <ul class="user-nav-list flex items-center space-x-4">
            <li>{{link 'community' class="text-gray-600 hover:text-blue-600 px-3 py-2 rounded-md transition-colors"}}</li>
            <li>{{link 'new_request' class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors submit-a-request"}}</li>
            {{#unless signed_in}}
              <li>{{link "sign_in" class="text-gray-600 hover:text-blue-600 px-3 py-2 rounded-md transition-colors sign-in"}}</li>
            {{/unless}}
          </ul>
        </nav>
        
        {{#if signed_in}}
          <div class="user-info dropdown relative">
            <button type="button" class="dropdown-toggle flex items-center space-x-2 p-2 rounded-md hover:bg-gray-50 transition-colors" aria-haspopup="true" aria-expanded="false">
              {{user_avatar class="user-avatar w-8 h-8 rounded-full"}}
              <span id="user-name" class="text-sm font-medium text-gray-700 hidden lg:block">{{user_name}}</span>
              <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
              </svg>
            </button>
            
            <div class="dropdown-menu absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 py-1 z-50" role="menu">
              {{my_profile role="menuitem" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50"}}
              {{link "requests" role="menuitem" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50"}}
              {{link "contributions" role="menuitemradio" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50"}}
              {{contact_details role="menuitem" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50"}}
              {{change_password role="menuitem" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50"}}
              <div class="border-t border-gray-100 my-1"></div>
              {{link "sign_out" role="menuitem" class="block px-4 py-2 text-sm text-red-600 hover:bg-red-50"}}
            </div>
          </div>
        {{/if}}
      </div>

      <!-- Mobile Menu Button -->
      <div class="md:hidden nav-wrapper-mobile">
        <button class="menu-button-mobile p-2 rounded-md text-gray-600 hover:bg-gray-50" aria-controls="user-nav-mobile" aria-expanded="false" aria-label="{{t 'toggle_navigation'}}">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </button>
        
        <!-- Mobile Menu -->
        <nav class="user-nav menu-list-mobile absolute top-16 left-0 right-0 bg-white border-b border-gray-200 shadow-lg" id="user-nav-mobile" aria-expanded="false">
          <ul class="menu-list-mobile-items px-4 py-4 space-y-2">
            {{#if signed_in}}
              <li class="item">
                {{my_profile role="menuitem" class="my-profile flex items-center px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-md"}}
              </li>
              <li class="item">{{link "requests" role="menuitem" class="block px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-md"}}</li>
              <li class="item">{{link "contributions" role="menuitem" class="block px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-md"}}</li>
              <li class="item">{{contact_details role="menuitem" class="block px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-md"}}</li>
              <li class="item">{{change_password role="menuitem" class="change-password block px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-md"}}</li>
              <li class="nav-divider border-t border-gray-200 my-2"></li>
            {{else}}
              <li class="item">{{link "sign_in" role="menuitem" class="block px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-md"}}</li>
              <li class="nav-divider border-t border-gray-200 my-2"></li>
            {{/if}}
            <li class="item">{{link 'community' role="menuitem" class="block px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-md"}}</li>
            <li class="item">{{link 'new_request' role="menuitem" class="submit-a-request block px-3 py-2 bg-blue-600 text-white rounded-md text-center"}}</li>
            {{#if signed_in}}
              <li class="nav-divider border-t border-gray-200 my-2"></li>
              <li class="item">{{link "sign_out" role="menuitem" class="block px-3 py-2 text-red-600 hover:bg-red-50 rounded-md"}}</li>
            {{/if}}
          </ul>
        </nav>
      </div>
    </div>
  </div>
</header>